<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentines Letter</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: radial-gradient(circle, #ff9eb5, #ff4d6d);
    font-family: 'Segoe UI', sans-serif;
    overflow: hidden;
}

/* Glow overlay */
body::before {
    content:"";
    position:absolute;
    inset:0;
    background: radial-gradient(circle, rgba(255,77,109,0.25), transparent 70%);
    animation: glow 6s infinite alternate;
}
@keyframes glow { from { opacity: .4; } to { opacity: .8; } }

/* Envelope */
.envelope-container {
    position: relative;
    width: 330px;
    height: 230px;
    cursor: pointer;
    z-index: 2;
}

.envelope {
    position: relative;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom right, #ff4d6d, #ff8fab);
    border-radius: 12px;
    box-shadow: 0 15px 35px rgba(0,0,0,.3);
    overflow: hidden;
}

.flap {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, #ffb3c6, #ff4d6d);
    clip-path: polygon(0 0, 50% 55%, 100% 0, 100% 100%, 0 100%);
    transform-origin: top;
    transition: transform 1s ease;
    z-index: 4;
}
.envelope.open .flap { transform: rotateX(180deg); }

/* Letter */
.letter {
    position: absolute;
    left: 50%;
    bottom: 0;
    width: 290px;
    height: 190px;
    background: #fff0f5;
    border-radius: 15px;
    transform: translateX(-50%) translateY(130px);
    transition: 1s ease;
    padding: 20px;
    text-align: center;
    z-index: 2;
}
.envelope.open .letter { transform: translateX(-50%) translateY(-30px); }

.letter h2 {
    margin: 5px 0 10px;
    color: #d0004d;
}
.letter p {
    font-size: 15px;
    line-height: 1.6;
    color: #660022;
    min-height: 100px;
}

/* Buttons */
.buttons { margin-top: 10px; }
button {
    background: #ff4d6d;
    color: #fff;
    border: none;
    padding: 6px 16px;
    border-radius: 12px;
    cursor: pointer;
    margin: 0 8px;
    font-size: 13px;
    transition: 0.3s;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
button:hover { background: #d0004d; }

/* Rose */
.rose {
    position: absolute;
    right: -120px;
    bottom: 10px;
    opacity: 0;
    transform: scale(.5);
    transition: .9s ease;
}
.envelope.open + .rose { opacity: 1; transform: scale(1); }

.bloom {
    position: relative;
    width: 50px;
    height: 50px;
    background: radial-gradient(circle, #ff8fab, #ff4d6d);
    border-radius: 50%;
    box-shadow: 0 0 15px rgba(255,77,109,.6);
}
.bloom::before,
.bloom::after {
    content:"";
    position:absolute;
    inset:6px;
    border-radius:50%;
    background: radial-gradient(circle, #ffc2d1, #ff4d6d);
}
.stem {
    width:6px;
    height:140px;
    background: linear-gradient(to bottom,#2e7d32,#1b5e20);
    margin:auto;
    border-radius:10px;
}

/* Hint */
.hint {
    position: absolute;
    bottom: -45px;
    width: 100%;
    text-align: center;
    font-size: 13px;
    color: #fff;
}

/* Floating hearts */
.heart {
    position: absolute;
    color: #ff4d6d;
    font-size: 18px;
    animation: float 3s linear forwards;
    pointer-events: none;
}
@keyframes float {
    from { transform: translateY(0) scale(1); opacity: 1; }
    to { transform: translateY(-160px) scale(.3); opacity: 0; }
}

/* Floating flowers */
.flower {
    position: absolute;
    width: 20px;
    height: 20px;
    background: radial-gradient(circle, #ff8fab, #ff4d6d);
    border-radius: 50%;
    opacity: 0;
    animation: floatFlower 6s linear infinite;
}
@keyframes floatFlower {
    0% { transform: translateY(0) rotate(0deg); opacity: 0; }
    20% { opacity: 1; }
    80% { opacity: 1; }
    100% { transform: translateY(-300px) rotate(360deg); opacity: 0; }
}

/* Bees */
.bee {
    position: absolute;
    width: 14px;
    height: 14px;
    background: #ff8fab;
    border-radius: 50%;
    box-shadow: 0 0 2px rgba(0,0,0,.2);
    opacity: 0.9;
    animation: flyBee linear infinite;
}
@keyframes flyBee {
    0% { transform: translate(0,0) rotate(0deg); }
    25% { transform: translate(40px,-20px) rotate(20deg); }
    50% { transform: translate(-20px,-60px) rotate(-20deg); }
    75% { transform: translate(-40px,20px) rotate(15deg); }
    100% { transform: translate(0,0) rotate(0deg); }
}
</style>
</head>

<body>

<div class="envelope-container" onclick="openEnvelope(event)">
    <div class="envelope" id="env">
        <div class="flap"></div>

        <div class="letter">
            <h2>Angel Wayne ðŸ«¶</h2>
            <p id="text"></p>
            <div class="buttons">
                <button onclick="prevPage(event)">Prev</button>
                <button onclick="nextPage(event)">Next</button>
            </div>
        </div>
    </div>
    <div class="hint">Click the envelope ðŸ’Œ</div>
</div>

<div class="rose">
    <div class="bloom"></div>
    <div class="stem"></div>
</div>

<script>
const pages = [
  "Happy Valentine's Day, Sev, 50/50, 70/30, bangko, flat, pinag palit sa bff ðŸ’™",
  "Ingat ka always alagaan mo katawan mo sev, tapos pakatatag ka lang always you have me pag satingin mo wala kanang kakampi",
  "Basta yun, may special place ka always sa heart ko takbo ka lang sakin if need moko okay?",
  "Happy Valentines again Sev "
];

let currentPage = 0;
const textEl = document.getElementById("text");

function showPage() {
    textEl.innerHTML = pages[currentPage];
}

function nextPage(e) {
    e.stopPropagation();
    if(currentPage < pages.length -1) {
        currentPage++;
        showPage();
    }
}

function prevPage(e) {
    e.stopPropagation();
    if(currentPage > 0){
        currentPage--;
        showPage();
    }
}

function openEnvelope(e) {
    const env = document.getElementById("env");
    env.classList.toggle("open");
    if(env.classList.contains("open")) {
        showPage();
        spawnHearts(e.clientX, e.clientY);
        spawnFlowers();
        spawnBees();
    }
}

function spawnHearts(x,y){
    for(let i=0;i<12;i++){
        const heart = document.createElement("div");
        heart.className="heart";
        heart.innerHTML="â¤";
        heart.style.left = x + (Math.random()*40-20) + "px";
        heart.style.top = y + "px";
        heart.style.animationDuration = (2 + Math.random()*2) + "s";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),3000);
    }
}

function spawnFlowers() {
    for(let i=0;i<8;i++){
        const flower = document.createElement("div");
        flower.className="flower";
        flower.style.left = Math.random()*window.innerWidth + "px";
        flower.style.bottom = "-20px";
        flower.style.animationDuration = (4+Math.random()*4)+"s";
        document.body.appendChild(flower);
        setTimeout(()=>flower.remove(),6000);
    }
}

function spawnBees() {
    for(let i=0;i<4;i++){
        const bee = document.createElement("div");
        bee.className="bee";
        bee.style.left =  Math.random()*window.innerWidth + "px";
        bee.style.bottom = Math.random()*50 + "px";
        bee.style.animationDuration = (3 + Math.random()*2) + "s";
        document.body.appendChild(bee);
        setTimeout(()=>bee.remove(),6000);
    }
}
</script>

</body>
</html>
